<!doctype html>
<html lang="en" dir="ltr" class="docs-wrapper plugin-docs plugin-id-default docs-version-current docs-doc-page docs-doc-id-fundamentals/zkbook_2pc/gc" data-has-hydrated="false">
<head>
<meta charset="UTF-8">
<meta name="generator" content="Docusaurus v3.9.2">
<title data-rh="true">Garbled Circuits | Mina book</title><meta data-rh="true" name="viewport" content="width=device-width,initial-scale=1"><meta data-rh="true" name="twitter:card" content="summary_large_image"><meta data-rh="true" property="og:url" content="https://o1-labs.github.io/proof-systems/fundamentals/zkbook_2pc/gc"><meta data-rh="true" property="og:locale" content="en"><meta data-rh="true" name="docusaurus_locale" content="en"><meta data-rh="true" name="docsearch:language" content="en"><meta data-rh="true" name="docusaurus_version" content="current"><meta data-rh="true" name="docusaurus_tag" content="docs-default-current"><meta data-rh="true" name="docsearch:version" content="current"><meta data-rh="true" name="docsearch:docusaurus_tag" content="docs-default-current"><meta data-rh="true" property="og:title" content="Garbled Circuits | Mina book"><meta data-rh="true" name="description" content="For general-purpose secure computation protocols, we often view functions as"><meta data-rh="true" property="og:description" content="For general-purpose secure computation protocols, we often view functions as"><link data-rh="true" rel="icon" href="/proof-systems/img/favicon.ico"><link data-rh="true" rel="canonical" href="https://o1-labs.github.io/proof-systems/fundamentals/zkbook_2pc/gc"><link data-rh="true" rel="alternate" href="https://o1-labs.github.io/proof-systems/fundamentals/zkbook_2pc/gc" hreflang="en"><link data-rh="true" rel="alternate" href="https://o1-labs.github.io/proof-systems/fundamentals/zkbook_2pc/gc" hreflang="x-default"><script data-rh="true" type="application/ld+json">{"@context":"https://schema.org","@type":"BreadcrumbList","itemListElement":[{"@type":"ListItem","position":1,"name":"Two Party Computation","item":"https://o1-labs.github.io/proof-systems/fundamentals/zkbook_2pc/overview"},{"@type":"ListItem","position":2,"name":"Garbled Circuits","item":"https://o1-labs.github.io/proof-systems/fundamentals/zkbook_2pc/gc"}]}</script><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.16.11/dist/katex.min.css" crossorigin="anonymous"><link rel="stylesheet" href="/proof-systems/assets/css/styles.3e58dbd9.css">
<script src="/proof-systems/assets/js/runtime~main.fb0a9564.js" defer="defer"></script>
<script src="/proof-systems/assets/js/main.baa4debc.js" defer="defer"></script>
</head>
<body class="navigation-with-keyboard">
<svg style="display: none;"><defs>
<symbol id="theme-svg-external-link" viewBox="0 0 24 24"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"/></symbol>
</defs></svg>
<script>!function(){var t=function(){try{return new URLSearchParams(window.location.search).get("docusaurus-theme")}catch(t){}}()||function(){try{return window.localStorage.getItem("theme")}catch(t){}}();document.documentElement.setAttribute("data-theme",t||"light"),document.documentElement.setAttribute("data-theme-choice",t||"light")}(),function(){try{const c=new URLSearchParams(window.location.search).entries();for(var[t,e]of c)if(t.startsWith("docusaurus-data-")){var a=t.replace("docusaurus-data-","data-");document.documentElement.setAttribute(a,e)}}catch(t){}}()</script><div id="__docusaurus"><div role="region" aria-label="Skip to main content"><a class="skipToContent_fXgn" href="#__docusaurus_skipToContent_fallback">Skip to main content</a></div><nav aria-label="Main" class="theme-layout-navbar navbar navbar--fixed-top"><div class="navbar__inner"><div class="theme-layout-navbar-left navbar__items"><button aria-label="Toggle navigation bar" aria-expanded="false" class="navbar__toggle clean-btn" type="button"><svg width="30" height="30" viewBox="0 0 30 30" aria-hidden="true"><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><a class="navbar__brand" href="/proof-systems/"><b class="navbar__title text--truncate">Mina book</b></a></div><div class="theme-layout-navbar-right navbar__items navbar__items--right"><a href="https://o1-labs.github.io/proof-systems/rustdoc/" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link">Rust Docs<svg width="13.5" height="13.5" aria-label="(opens in new tab)" class="iconExternalLink_nPIU"><use href="#theme-svg-external-link"></use></svg></a><a href="https://github.com/o1-labs/proof-systems" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link">GitHub<svg width="13.5" height="13.5" aria-label="(opens in new tab)" class="iconExternalLink_nPIU"><use href="#theme-svg-external-link"></use></svg></a><div class="toggle_vylO colorModeToggle_DEke"><button class="clean-btn toggleButton_gllP toggleButtonDisabled_aARS" type="button" disabled="" title="system mode" aria-label="Switch between dark and light mode (currently system mode)"><svg viewBox="0 0 24 24" width="24" height="24" aria-hidden="true" class="toggleIcon_g3eP lightToggleIcon_pyhR"><path fill="currentColor" d="M12,9c1.65,0,3,1.35,3,3s-1.35,3-3,3s-3-1.35-3-3S10.35,9,12,9 M12,7c-2.76,0-5,2.24-5,5s2.24,5,5,5s5-2.24,5-5 S14.76,7,12,7L12,7z M2,13l2,0c0.55,0,1-0.45,1-1s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S1.45,13,2,13z M20,13l2,0c0.55,0,1-0.45,1-1 s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S19.45,13,20,13z M11,2v2c0,0.55,0.45,1,1,1s1-0.45,1-1V2c0-0.55-0.45-1-1-1S11,1.45,11,2z M11,20v2c0,0.55,0.45,1,1,1s1-0.45,1-1v-2c0-0.55-0.45-1-1-1C11.45,19,11,19.45,11,20z M5.99,4.58c-0.39-0.39-1.03-0.39-1.41,0 c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0s0.39-1.03,0-1.41L5.99,4.58z M18.36,16.95 c-0.39-0.39-1.03-0.39-1.41,0c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0c0.39-0.39,0.39-1.03,0-1.41 L18.36,16.95z M19.42,5.99c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06c-0.39,0.39-0.39,1.03,0,1.41 s1.03,0.39,1.41,0L19.42,5.99z M7.05,18.36c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06 c-0.39,0.39-0.39,1.03,0,1.41s1.03,0.39,1.41,0L7.05,18.36z"></path></svg><svg viewBox="0 0 24 24" width="24" height="24" aria-hidden="true" class="toggleIcon_g3eP darkToggleIcon_wfgR"><path fill="currentColor" d="M9.37,5.51C9.19,6.15,9.1,6.82,9.1,7.5c0,4.08,3.32,7.4,7.4,7.4c0.68,0,1.35-0.09,1.99-0.27C17.45,17.19,14.93,19,12,19 c-3.86,0-7-3.14-7-7C5,9.07,6.81,6.55,9.37,5.51z M12,3c-4.97,0-9,4.03-9,9s4.03,9,9,9s9-4.03,9-9c0-0.46-0.04-0.92-0.1-1.36 c-0.98,1.37-2.58,2.26-4.4,2.26c-2.98,0-5.4-2.42-5.4-5.4c0-1.81,0.89-3.42,2.26-4.4C12.92,3.04,12.46,3,12,3L12,3z"></path></svg><svg viewBox="0 0 24 24" width="24" height="24" aria-hidden="true" class="toggleIcon_g3eP systemToggleIcon_QzmC"><path fill="currentColor" d="m12 21c4.971 0 9-4.029 9-9s-4.029-9-9-9-9 4.029-9 9 4.029 9 9 9zm4.95-13.95c1.313 1.313 2.05 3.093 2.05 4.95s-0.738 3.637-2.05 4.95c-1.313 1.313-3.093 2.05-4.95 2.05v-14c1.857 0 3.637 0.737 4.95 2.05z"></path></svg></button></div><div class="navbarSearchContainer_Bca1"></div></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div></nav><div id="__docusaurus_skipToContent_fallback" class="theme-layout-main main-wrapper mainWrapper_z2l0"><div class="docsWrapper_hBAB"><button aria-label="Scroll back to top" class="clean-btn theme-back-to-top-button backToTopButton_sjWU" type="button"></button><div class="docRoot_UBD9"><aside class="theme-doc-sidebar-container docSidebarContainer_YfHR"><div class="sidebarViewport_aRkj"><div class="sidebar_njMd"><nav aria-label="Docs sidebar" class="menu thin-scrollbar menu_SIkG"><ul class="theme-doc-sidebar-menu menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/proof-systems/"><span title="Introduction" class="linkLabel_WmDU">Introduction</span></a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="categoryLink_byQd menu__link menu__link--sublist menu__link--sublist-caret" role="button" aria-expanded="false" href="/proof-systems/fundamentals/zkbook_foundations"><span title="Foundations" class="categoryLinkLabel_W154">Foundations</span></a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item"><div class="menu__list-item-collapsible"><a class="categoryLink_byQd menu__link menu__link--sublist menu__link--sublist-caret menu__link--active" role="button" aria-expanded="true" href="/proof-systems/fundamentals/zkbook_commitment"><span title="Cryptographic Tools" class="categoryLinkLabel_W154">Cryptographic Tools</span></a></div><ul class="menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/proof-systems/fundamentals/zkbook_commitment"><span title="Commitments" class="linkLabel_WmDU">Commitments</span></a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="categoryLink_byQd menu__link menu__link--sublist" tabindex="0" href="/proof-systems/plonk/polynomial_commitments"><span title="Polynomial Commitments" class="categoryLinkLabel_W154">Polynomial Commitments</span></a><button aria-label="Expand sidebar category &#x27;Polynomial Commitments&#x27;" aria-expanded="false" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item"><div class="menu__list-item-collapsible"><a class="categoryLink_byQd menu__link menu__link--sublist menu__link--active" tabindex="0" href="/proof-systems/fundamentals/zkbook_2pc/overview"><span title="Two Party Computation" class="categoryLinkLabel_W154">Two Party Computation</span></a><button aria-label="Collapse sidebar category &#x27;Two Party Computation&#x27;" aria-expanded="true" type="button" class="clean-btn menu__caret"></button></div><ul class="menu__list"><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-3 menu__list-item"><div class="menu__list-item-collapsible menu__list-item-collapsible--active"><a class="categoryLink_byQd menu__link menu__link--sublist menu__link--active" aria-current="page" tabindex="0" href="/proof-systems/fundamentals/zkbook_2pc/gc"><span title="Garbled Circuits" class="categoryLinkLabel_W154">Garbled Circuits</span></a><button aria-label="Collapse sidebar category &#x27;Garbled Circuits&#x27;" aria-expanded="true" type="button" class="clean-btn menu__caret"></button></div><ul class="menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-4 menu__list-item"><a class="menu__link" tabindex="0" href="/proof-systems/fundamentals/zkbook_2pc/basics"><span title="Basics" class="linkLabel_WmDU">Basics</span></a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-4 menu__list-item"><a class="menu__link" tabindex="0" href="/proof-systems/fundamentals/zkbook_2pc/pap"><span title="Point and Permute" class="linkLabel_WmDU">Point and Permute</span></a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-4 menu__list-item"><a class="menu__link" tabindex="0" href="/proof-systems/fundamentals/zkbook_2pc/freexor"><span title="Free XOR" class="linkLabel_WmDU">Free XOR</span></a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-4 menu__list-item"><a class="menu__link" tabindex="0" href="/proof-systems/fundamentals/zkbook_2pc/row_red"><span title="Row Reduction" class="linkLabel_WmDU">Row Reduction</span></a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-4 menu__list-item"><a class="menu__link" tabindex="0" href="/proof-systems/fundamentals/zkbook_2pc/halfgate"><span title="Half Gate" class="linkLabel_WmDU">Half Gate</span></a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-4 menu__list-item"><a class="menu__link" tabindex="0" href="/proof-systems/fundamentals/zkbook_2pc/fulldesc"><span title="Full Description" class="linkLabel_WmDU">Full Description</span></a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-4 menu__list-item"><a class="menu__link" tabindex="0" href="/proof-systems/fundamentals/zkbook_2pc/fkaes"><span title="Fixed-Key-AES Hashes" class="linkLabel_WmDU">Fixed-Key-AES Hashes</span></a></li></ul></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-3 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="categoryLink_byQd menu__link menu__link--sublist" tabindex="0" href="/proof-systems/fundamentals/zkbook_2pc/ot"><span title="Oblivious Transfer" class="categoryLinkLabel_W154">Oblivious Transfer</span></a><button aria-label="Expand sidebar category &#x27;Oblivious Transfer&#x27;" aria-expanded="false" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/proof-systems/fundamentals/zkbook_2pc/2pc"><span title="Full Protocol" class="linkLabel_WmDU">Full Protocol</span></a></li></ul></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="categoryLink_byQd menu__link menu__link--sublist" tabindex="0" href="/proof-systems/fundamentals/proof_systems"><span title="Proof Systems" class="categoryLinkLabel_W154">Proof Systems</span></a><button aria-label="Expand sidebar category &#x27;Proof Systems&#x27;" aria-expanded="false" type="button" class="clean-btn menu__caret"></button></div></li></ul></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="categoryLink_byQd menu__link menu__link--sublist menu__link--sublist-caret" role="button" aria-expanded="false" href="/proof-systems/plonk/overview"><span title="Background on PLONK" class="categoryLinkLabel_W154">Background on PLONK</span></a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="categoryLink_byQd menu__link menu__link--sublist menu__link--sublist-caret" role="button" aria-expanded="false" href="/proof-systems/kimchi/overview"><span title="Kimchi" class="categoryLinkLabel_W154">Kimchi</span></a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="categoryLink_byQd menu__link menu__link--sublist menu__link--sublist-caret" role="button" aria-expanded="false" href="/proof-systems/pickles/overview"><span title="Pickles &amp; Inductive Proof Systems" class="categoryLinkLabel_W154">Pickles &amp; Inductive Proof Systems</span></a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="categoryLink_byQd menu__link menu__link--sublist menu__link--sublist-caret" role="button" aria-expanded="false" href="/proof-systems/specs/poseidon"><span title="Technical Specifications" class="categoryLinkLabel_W154">Technical Specifications</span></a></div></li></ul></nav></div></div></aside><main class="docMainContainer_TBSr"><div class="container padding-top--md padding-bottom--lg"><div class="row"><div class="col docItemCol_VOVn"><div class="docItemContainer_Djhp"><article><nav class="theme-doc-breadcrumbs breadcrumbsContainer_Z_bl" aria-label="Breadcrumbs"><ul class="breadcrumbs"><li class="breadcrumbs__item"><a aria-label="Home page" class="breadcrumbs__link" href="/proof-systems/"><svg viewBox="0 0 24 24" class="breadcrumbHomeIcon_YNFT"><path d="M10 19v-5h4v5c0 .55.45 1 1 1h3c.55 0 1-.45 1-1v-7h1.7c.46 0 .68-.57.33-.87L12.67 3.6c-.38-.34-.96-.34-1.34 0l-8.36 7.53c-.34.3-.13.87.33.87H5v7c0 .55.45 1 1 1h3c.55 0 1-.45 1-1z" fill="currentColor"></path></svg></a></li><li class="breadcrumbs__item"><span class="breadcrumbs__link">Cryptographic Tools</span></li><li class="breadcrumbs__item"><a class="breadcrumbs__link" href="/proof-systems/fundamentals/zkbook_2pc/overview"><span>Two Party Computation</span></a></li><li class="breadcrumbs__item breadcrumbs__item--active"><span class="breadcrumbs__link">Garbled Circuits</span></li></ul></nav><div class="tocCollapsible_ETCw theme-doc-toc-mobile tocMobile_ITEo"><button type="button" class="clean-btn tocCollapsibleButton_TO0P">On this page</button></div><div class="theme-doc-markdown markdown"><header><h1>Garbled Circuits</h1></header>
<p>For general-purpose secure computation protocols, we often view functions as
arithmetic circuits or boolean circuits. We consider boolean circuits because
our applications involve in securely computing ciphers (e.g., AES), which
consist of massive boolean gates.</p>
<h2 class="anchor anchorTargetStickyNavbar_Vzrq" id="boolean-circuits">Boolean Circuits<a href="#boolean-circuits" class="hash-link" aria-label="Direct link to Boolean Circuits" title="Direct link to Boolean Circuits" translate="no">​</a></h2>
<p>Boolean circuits consists of <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mstyle mathsize="0.9em"><mrow><mi mathvariant="sans-serif">A</mi><mi mathvariant="sans-serif">N</mi><mi mathvariant="sans-serif">D</mi></mrow></mstyle></mrow><annotation encoding="application/x-tex">\and</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.625em"></span><span class="mord"><span class="mord sizing reset-size6 size5"><span class="mord mathsf">AND</span></span></span></span></span></span> gates (<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>a</mi><mtext> </mtext><mstyle mathsize="0.9em"><mrow><mi mathvariant="sans-serif">A</mi><mi mathvariant="sans-serif">N</mi><mi mathvariant="sans-serif">D</mi></mrow></mstyle><mtext> </mtext><mi>b</mi><mo>=</mo><mi>a</mi><mo>∧</mo><mi>b</mi></mrow><annotation encoding="application/x-tex">a~\and~ b = a\wedge b</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.6944em"></span><span class="mord mathnormal">a</span><span class="mspace nobreak"> </span><span class="mord"><span class="mord sizing reset-size6 size5"><span class="mord mathsf">AND</span></span></span><span class="mspace nobreak"> </span><span class="mord mathnormal">b</span><span class="mspace" style="margin-right:0.2778em"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em"></span></span><span class="base"><span class="strut" style="height:0.5556em"></span><span class="mord mathnormal">a</span><span class="mspace" style="margin-right:0.2222em"></span><span class="mbin">∧</span><span class="mspace" style="margin-right:0.2222em"></span></span><span class="base"><span class="strut" style="height:0.6944em"></span><span class="mord mathnormal">b</span></span></span></span>) and <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mstyle mathsize="0.9em"><mrow><mi mathvariant="sans-serif">X</mi><mi mathvariant="sans-serif">O</mi><mi mathvariant="sans-serif">R</mi></mrow></mstyle></mrow><annotation encoding="application/x-tex">\xor</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.625em"></span><span class="mord"><span class="mord sizing reset-size6 size5"><span class="mord mathsf">XOR</span></span></span></span></span></span>
gates (<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>a</mi><mtext> </mtext><mstyle mathsize="0.9em"><mrow><mi mathvariant="sans-serif">X</mi><mi mathvariant="sans-serif">O</mi><mi mathvariant="sans-serif">R</mi></mrow></mstyle><mtext> </mtext><mi>b</mi><mo>=</mo><mi>a</mi><mo>⊕</mo><mi>b</mi></mrow><annotation encoding="application/x-tex">a~\xor~b = a\oplus b</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.6944em"></span><span class="mord mathnormal">a</span><span class="mspace nobreak"> </span><span class="mord"><span class="mord sizing reset-size6 size5"><span class="mord mathsf">XOR</span></span></span><span class="mspace nobreak"> </span><span class="mord mathnormal">b</span><span class="mspace" style="margin-right:0.2778em"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em"></span></span><span class="base"><span class="strut" style="height:0.6667em;vertical-align:-0.0833em"></span><span class="mord mathnormal">a</span><span class="mspace" style="margin-right:0.2222em"></span><span class="mbin">⊕</span><span class="mspace" style="margin-right:0.2222em"></span></span><span class="base"><span class="strut" style="height:0.6944em"></span><span class="mord mathnormal">b</span></span></span></span>). These two gates are universal and we could
represent any polynomial-size functions with them. In 2PC protocols, we also use
<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mstyle mathsize="0.9em"><mrow><mi mathvariant="sans-serif">I</mi><mi mathvariant="sans-serif">N</mi><mi mathvariant="sans-serif">V</mi></mrow></mstyle></mrow><annotation encoding="application/x-tex">\inv</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.625em"></span><span class="mord"><span class="mord sizing reset-size6 size5"><span class="mord mathsf" style="margin-right:0.01389em">INV</span></span></span></span></span></span> gates (<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mstyle mathsize="0.9em"><mrow><mi mathvariant="sans-serif">I</mi><mi mathvariant="sans-serif">N</mi><mi mathvariant="sans-serif">V</mi></mrow></mstyle><mo stretchy="false">(</mo><mi>a</mi><mo stretchy="false">)</mo><mo>=</mo><mn>1</mn><mo>⊕</mo><mi>a</mi></mrow><annotation encoding="application/x-tex">\inv(a) = 1\oplus a</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em"></span><span class="mord"><span class="mord sizing reset-size6 size5"><span class="mord mathsf" style="margin-right:0.01389em">INV</span></span></span><span class="mopen">(</span><span class="mord mathnormal">a</span><span class="mclose">)</span><span class="mspace" style="margin-right:0.2778em"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em"></span></span><span class="base"><span class="strut" style="height:0.7278em;vertical-align:-0.0833em"></span><span class="mord">1</span><span class="mspace" style="margin-right:0.2222em"></span><span class="mbin">⊕</span><span class="mspace" style="margin-right:0.2222em"></span></span><span class="base"><span class="strut" style="height:0.4306em"></span><span class="mord mathnormal">a</span></span></span></span>) for optimization.</p>
<p>According to the Free-XOR optimization (see the next subsection), the <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mstyle mathsize="0.9em"><mrow><mi mathvariant="sans-serif">X</mi><mi mathvariant="sans-serif">O</mi><mi mathvariant="sans-serif">R</mi></mrow></mstyle></mrow><annotation encoding="application/x-tex">\xor</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.625em"></span><span class="mord"><span class="mord sizing reset-size6 size5"><span class="mord mathsf">XOR</span></span></span></span></span></span>
gates and <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mstyle mathsize="0.9em"><mrow><mi mathvariant="sans-serif">I</mi><mi mathvariant="sans-serif">N</mi><mi mathvariant="sans-serif">V</mi></mrow></mstyle></mrow><annotation encoding="application/x-tex">\inv</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.625em"></span><span class="mord"><span class="mord sizing reset-size6 size5"><span class="mord mathsf" style="margin-right:0.01389em">INV</span></span></span></span></span></span> gates are free, then one prefers to represent a function with
more <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mstyle mathsize="0.9em"><mrow><mi mathvariant="sans-serif">X</mi><mi mathvariant="sans-serif">O</mi><mi mathvariant="sans-serif">R</mi></mrow></mstyle></mrow><annotation encoding="application/x-tex">\xor</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.625em"></span><span class="mord"><span class="mord sizing reset-size6 size5"><span class="mord mathsf">XOR</span></span></span></span></span></span> and <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mstyle mathsize="0.9em"><mrow><mi mathvariant="sans-serif">I</mi><mi mathvariant="sans-serif">N</mi><mi mathvariant="sans-serif">V</mi></mrow></mstyle></mrow><annotation encoding="application/x-tex">\inv</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.625em"></span><span class="mord"><span class="mord sizing reset-size6 size5"><span class="mord mathsf" style="margin-right:0.01389em">INV</span></span></span></span></span></span> gates, while less <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mstyle mathsize="0.9em"><mrow><mi mathvariant="sans-serif">A</mi><mi mathvariant="sans-serif">N</mi><mi mathvariant="sans-serif">D</mi></mrow></mstyle></mrow><annotation encoding="application/x-tex">\and</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.625em"></span><span class="mord"><span class="mord sizing reset-size6 size5"><span class="mord mathsf">AND</span></span></span></span></span></span> gates.</p>
<p>For some commonly used functions (e.g., AES, SHA256), one usually uses
hand-optimized circuits for efficiency, and stores them in files. The most
popular circuit representation is the
<a href="https://homes.esat.kuleuven.be/~nsmart/MPC/" target="_blank" rel="noopener noreferrer" class="">Bristol Fashion</a>, which is also
used in zkOracles.</p>
<p>The following Bristol fashion circuit is part of AES-128.</p>
<div class="language-text codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">36663 36919</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">2 128 128</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">1 128</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">2 1 128 0 33254 XOR</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">2 1 129 1 33255 XOR</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">2 1 130 2 33256 XOR</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">2 1 131 3 33257 XOR</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">2 1 132 4 33258 XOR</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">2 1 133 5 33259 XOR</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">2 1 134 6 33260 XOR</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">...</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">2 1 3542 3546 3535 AND</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">2 1 3535 3459 3462 XOR</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">2 1 3543 3541 3534 AND</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">...</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">1 1 3452 3449 INV</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">...</span><br></span></code></pre></div></div>
<p>The first line</p>
<div class="language-text codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">36663 36919</span><br></span></code></pre></div></div>
<p>means that the entire circuit has 36663 gates and 36919 wires.</p>
<p>The second line</p>
<div class="language-text codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">2 128 128</span><br></span></code></pre></div></div>
<p>means that the circuit has 2 inputs, both inputs have 128 bits.</p>
<p>The third line</p>
<div class="language-text codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">1 128</span><br></span></code></pre></div></div>
<p>means that the circuit has 1 output, and the length is 128 bits.</p>
<p>The following lines are the gates in the circuit. For example</p>
<div class="language-text codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">2 1 128 0 33254 XOR</span><br></span></code></pre></div></div>
<p>means that this gate has a fan-in of 2 and fan-out of 1. The first input wire is
128 (the number of wires), the second input wire is 0, and the output wire
is 33254. The operation of this gate is <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mstyle mathsize="0.9em"><mrow><mi mathvariant="sans-serif">X</mi><mi mathvariant="sans-serif">O</mi><mi mathvariant="sans-serif">R</mi></mrow></mstyle></mrow><annotation encoding="application/x-tex">\xor</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.625em"></span><span class="mord"><span class="mord sizing reset-size6 size5"><span class="mord mathsf">XOR</span></span></span></span></span></span>.</p>
<div class="language-text codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">2 1 3542 3546 3535 AND</span><br></span></code></pre></div></div>
<p>means that this gate has a fan-in of 2 and fan-out of 1. The first input wire is
3542, the second input wire is 3546, and the output wire is 3535. The operation
of this gate is <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mstyle mathsize="0.9em"><mrow><mi mathvariant="sans-serif">A</mi><mi mathvariant="sans-serif">N</mi><mi mathvariant="sans-serif">D</mi></mrow></mstyle></mrow><annotation encoding="application/x-tex">\and</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.625em"></span><span class="mord"><span class="mord sizing reset-size6 size5"><span class="mord mathsf">AND</span></span></span></span></span></span>.</p>
<div class="language-text codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">1 1 3452 3449 INV</span><br></span></code></pre></div></div>
<p>means that this gate has a fan-in of 1 and fan-out of 1. The input wire is 3452,
and the output wire is 3449. The operation of this gate is <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mstyle mathsize="0.9em"><mrow><mi mathvariant="sans-serif">I</mi><mi mathvariant="sans-serif">N</mi><mi mathvariant="sans-serif">V</mi></mrow></mstyle></mrow><annotation encoding="application/x-tex">\inv</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.625em"></span><span class="mord"><span class="mord sizing reset-size6 size5"><span class="mord mathsf" style="margin-right:0.01389em">INV</span></span></span></span></span></span>.</p></div><footer class="theme-doc-footer docusaurus-mt-lg"><div class="row margin-top--sm theme-doc-footer-edit-meta-row"><div class="col noPrint_WFHX"><a href="https://github.com/o1-labs/proof-systems/tree/master/book/docs/fundamentals/zkbook_2pc/gc.md" target="_blank" rel="noopener noreferrer" class="theme-edit-this-page"><svg fill="currentColor" height="20" width="20" viewBox="0 0 40 40" class="iconEdit_Z9Sw" aria-hidden="true"><g><path d="m34.5 11.7l-3 3.1-6.3-6.3 3.1-3q0.5-0.5 1.2-0.5t1.1 0.5l3.9 3.9q0.5 0.4 0.5 1.1t-0.5 1.2z m-29.5 17.1l18.4-18.5 6.3 6.3-18.4 18.4h-6.3v-6.2z"></path></g></svg>Edit this page</a></div><div class="col lastUpdated_JAkA"></div></div></footer></article><nav class="docusaurus-mt-lg pagination-nav" aria-label="Docs pages"><a class="pagination-nav__link pagination-nav__link--prev" href="/proof-systems/fundamentals/zkbook_2pc/overview"><div class="pagination-nav__sublabel">Previous</div><div class="pagination-nav__label">Two Party Computation</div></a><a class="pagination-nav__link pagination-nav__link--next" href="/proof-systems/fundamentals/zkbook_2pc/basics"><div class="pagination-nav__sublabel">Next</div><div class="pagination-nav__label">Basics</div></a></nav></div></div><div class="col col--3"><div class="tableOfContents_bqdL thin-scrollbar theme-doc-toc-desktop"><ul class="table-of-contents table-of-contents__left-border"><li><a href="#boolean-circuits" class="table-of-contents__link toc-highlight">Boolean Circuits</a></li></ul></div></div></div></div></main></div></div></div><footer class="theme-layout-footer footer footer--dark"><div class="container container-fluid"><div class="row footer__links"><div class="theme-layout-footer-column col footer__col"><div class="footer__title">Documentation</div><ul class="footer__items clean-list"><li class="footer__item"><a class="footer__link-item" href="/proof-systems/">Introduction</a></li><li class="footer__item"><a href="https://o1-labs.github.io/proof-systems/rustdoc/" target="_blank" rel="noopener noreferrer" class="footer__link-item">Rust Documentation<svg width="13.5" height="13.5" aria-label="(opens in new tab)" class="iconExternalLink_nPIU"><use href="#theme-svg-external-link"></use></svg></a></li></ul></div><div class="theme-layout-footer-column col footer__col"><div class="footer__title">Community</div><ul class="footer__items clean-list"><li class="footer__item"><a href="https://minaprotocol.com/" target="_blank" rel="noopener noreferrer" class="footer__link-item">Mina Protocol<svg width="13.5" height="13.5" aria-label="(opens in new tab)" class="iconExternalLink_nPIU"><use href="#theme-svg-external-link"></use></svg></a></li><li class="footer__item"><a href="https://discord.gg/minaprotocol" target="_blank" rel="noopener noreferrer" class="footer__link-item">Discord<svg width="13.5" height="13.5" aria-label="(opens in new tab)" class="iconExternalLink_nPIU"><use href="#theme-svg-external-link"></use></svg></a></li></ul></div><div class="theme-layout-footer-column col footer__col"><div class="footer__title">More</div><ul class="footer__items clean-list"><li class="footer__item"><a href="https://github.com/o1-labs/proof-systems" target="_blank" rel="noopener noreferrer" class="footer__link-item">GitHub<svg width="13.5" height="13.5" aria-label="(opens in new tab)" class="iconExternalLink_nPIU"><use href="#theme-svg-external-link"></use></svg></a></li></ul></div></div><div class="footer__bottom text--center"><div class="footer__copyright">Copyright 2026 o1Labs. Built with Docusaurus.</div></div></div></footer></div>
</body>
</html>