<!DOCTYPE html><html lang="en"><head><meta charset="utf-8"><meta name="viewport" content="width=device-width, initial-scale=1.0"><meta name="generator" content="rustdoc"><meta name="description" content="The witness columns used by the Keccak circuit. The Keccak circuit is split into two main modes: Sponge and Round. The columns are shared between the Sponge and Round steps. The hash and step indices are shared between both modes. The row is split into the following entries:"><title>KeccakWitness in o1vm::interpreters::keccak::column - Rust</title><script>if(window.location.protocol!=="file:")document.head.insertAdjacentHTML("beforeend","SourceSerif4-Regular-6b053e98.ttf.woff2,FiraSans-Italic-81dc35de.woff2,FiraSans-Regular-0fe48ade.woff2,FiraSans-MediumItalic-ccf7e434.woff2,FiraSans-Medium-e1aa3f0a.woff2,SourceCodePro-Regular-8badfe75.ttf.woff2,SourceCodePro-Semibold-aa29a496.ttf.woff2".split(",").map(f=>`<link rel="preload" as="font" type="font/woff2" crossorigin href="../../../../static.files/${f}">`).join(""))</script><link rel="stylesheet" href="../../../../static.files/normalize-9960930a.css"><link rel="stylesheet" href="../../../../static.files/rustdoc-aa0817cf.css"><meta name="rustdoc-vars" data-root-path="../../../../" data-static-root-path="../../../../static.files/" data-current-crate="o1vm" data-themes="" data-resource-suffix="" data-rustdoc-version="1.90.0-nightly (a2d45f73c 2025-07-07)" data-channel="nightly" data-search-js="search-179e01a3.js" data-settings-js="settings-5514c975.js" ><script src="../../../../static.files/storage-4e99c027.js"></script><script defer src="sidebar-items.js"></script><script defer src="../../../../static.files/main-673ee1e0.js"></script><noscript><link rel="stylesheet" href="../../../../static.files/noscript-32bb7600.css"></noscript><link rel="alternate icon" type="image/png" href="../../../../static.files/favicon-32x32-6580c154.png"><link rel="icon" type="image/svg+xml" href="../../../../static.files/favicon-044be391.svg"></head><body class="rustdoc type"><!--[if lte IE 11]><div class="warning">This old browser is unsupported and will most likely display funky things.</div><![endif]--><nav class="mobile-topbar"><button class="sidebar-menu-toggle" title="show sidebar"></button></nav><nav class="sidebar"><div class="sidebar-crate"><h2><a href="../../../../o1vm/index.html">o1vm</a><span class="version">0.1.0</span></h2></div><div class="sidebar-elems"><section id="rustdoc-toc"><h2 class="location"><a href="#">Keccak<wbr>Witness</a></h2><h3><a href="#">Sections</a></h3><ul class="block top-toc"><li><a href="#-0--1--2--31967--19682067--20682071-" title="| 0 | 1 | 2 | 3..=1967 | 1968..=2067 | 2068..=2071 |">| 0 | 1 | 2 | 3..=1967 | 1968..=2067 | 2068..=2071 |</a></li></ul><h3><a href="#aliased-type">Aliased Type</a></h3><h3><a href="#fields">Fields</a></h3><ul class="block field"><li><a href="#structfield.cols" title="cols">cols</a></li></ul><h3><a href="#trait-implementations">Trait Implementations</a></h3><ul class="block trait-implementation"><li><a href="#impl-Index%3CColumnAlias%3E-for-Witness%3CN_ZKVM_KECCAK_REL_COLS,+T%3E" title="Index&#60;ColumnAlias&#62;">Index&#60;ColumnAlias&#62;</a></li><li><a href="#impl-Index%3CSteps%3E-for-Witness%3CN_ZKVM_KECCAK_REL_COLS,+T%3E" title="Index&#60;Steps&#62;">Index&#60;Steps&#62;</a></li><li><a href="#impl-IndexMut%3CColumnAlias%3E-for-Witness%3CN_ZKVM_KECCAK_REL_COLS,+T%3E" title="IndexMut&#60;ColumnAlias&#62;">IndexMut&#60;ColumnAlias&#62;</a></li><li><a href="#impl-IndexMut%3CSteps%3E-for-Witness%3CN_ZKVM_KECCAK_REL_COLS,+T%3E" title="IndexMut&#60;Steps&#62;">IndexMut&#60;Steps&#62;</a></li></ul></section><div id="rustdoc-modnav"><h2><a href="index.html">In o1vm::<wbr>interpreters::<wbr>keccak::<wbr>column</a></h2></div></div></nav><div class="sidebar-resizer" title="Drag to resize sidebar"></div><main><div class="width-limiter"><rustdoc-search></rustdoc-search><section id="main-content" class="content"><div class="main-heading"><div class="rustdoc-breadcrumbs"><a href="../../../index.html">o1vm</a>::<wbr><a href="../../index.html">interpreters</a>::<wbr><a href="../index.html">keccak</a>::<wbr><a href="index.html">column</a></div><h1>Type Alias <span class="type">KeccakWitness</span><button id="copy-path" title="Copy item path to clipboard">Copy item path</button></h1><rustdoc-toolbar></rustdoc-toolbar><span class="sub-heading"><a class="src" href="../../../../src/o1vm/interpreters/keccak/column.rs.html#357">Source</a> </span></div><pre class="rust item-decl"><code>pub type KeccakWitness&lt;T&gt; = <a class="struct" href="../../../../kimchi_msm/witness/struct.Witness.html" title="struct kimchi_msm::witness::Witness">Witness</a>&lt;N_ZKVM_KECCAK_REL_COLS, T&gt;;</code></pre><details class="toggle top-doc" open><summary class="hideme"><span>Expand description</span></summary><div class="docblock"><p>The witness columns used by the Keccak circuit.
The Keccak circuit is split into two main modes: Sponge and Round.
The columns are shared between the Sponge and Round steps.
The hash and step indices are shared between both modes.
The row is split into the following entries:</p>
<ul>
<li>
<p>hash_index: Which hash this is inside the circuit</p>
</li>
<li>
<p>block_index: Which block this is inside the hash</p>
</li>
<li>
<p>step_index: Which step this is inside the hash</p>
</li>
<li>
<p>curr: Contains 1965 witnesses used in the current step including Input</p>
</li>
<li>
<p>next: Contains the 100 Output witnesses</p>
</li>
<li>
<p>round_flags: contain 5 elements with information about the current round step</p>
</li>
<li>
<p>pad_flags: PadLength, TwoToPad, PadBytesFlags, PadSuffix</p>
</li>
<li>
<p>mode_flags: what kind of mode is running: round, root, absorb, pad, rootpad, squeeze. Only 1 of them can be active.</p>
<p>Keccak Witness Columns: KeccakWitness.cols</p>
</li>
</ul>
<hr />
<h3 id="-0--1--2--31967--19682067--20682071-"><a class="doc-anchor" href="#-0--1--2--31967--19682067--20682071-">§</a>| 0 | 1 | 2 | 3..=1967 | 1968..=2067 | 2068..=2071 |</h3>
<p>0     -&gt; hash_index
1     -&gt; block_index
2     -&gt; step_index
3..=1967 -&gt; curr
3                                                                        1967
&lt;––––––––––––––––if_round&lt;–––––––––––––––––&gt;
&lt;———––if_sponge–––––––&gt;
3                                   802
-&gt; SPONGE:                             | -&gt; ROUND:
-&gt; 3..=102: Input == SpongeOldState    | -&gt; 3..=102: Input == ThetaStateA
-&gt; 103..=202: SpongeNewState           | -&gt; 103..=182: ThetaShiftsC
: 170..=202 -&gt; SpongeZeros | -&gt; 183..=202: ThetaDenseC
-&gt; 203..=402: SpongeBytes              | -&gt; 203..=207: ThetaQuotientC
-&gt; 403..=802: SpongeShifts             | -&gt; 208..=227: ThetaRemainderC
| -&gt; 228..=247: ThetaDenseRotC
| -&gt; 248..=267: ThetaExpandRotC
| -&gt; 268..=667: PiRhoShiftsE
| -&gt; 668..=767: PiRhoDenseE
| -&gt; 768..=867: PiRhoQuotientE
| -&gt; 868..=967: PiRhoRemainderE
| -&gt; 968..=1067: PiRhoDenseRotE
| -&gt; 1068..=1167: PiRhoExpandRotE
| -&gt; 1168..=1567: ChiShiftsB
| -&gt; 1568..=1967: ChiShiftsSum
1968..=2067 -&gt; next
-&gt; 1968..=2067: Output (if Round, then IotaStateG, if Sponge then SpongeXorState)</p>
<p>2068..=2072 -&gt; round_flags
-&gt; 2068: RoundNumber
-&gt; 2069..=2072: RoundConstants</p>
<p>2073..=2078 -&gt; selectors</p>
<p>803..=945 -&gt; pad_flags
-&gt; 803: PadLength
-&gt; 804: TwoToPad
-&gt; 805..=809: PadSuffix
-&gt; 810..=945: PadBytesFlags</p>
</div></details><h2 id="aliased-type" class="section-header">Aliased Type<a href="#aliased-type" class="anchor">§</a></h2><pre class="rust item-decl"><code>pub struct KeccakWitness&lt;T&gt; {
    pub cols: <a class="struct" href="https://doc.rust-lang.org/nightly/alloc/boxed/struct.Box.html" title="struct alloc::boxed::Box">Box</a>&lt;<a class="primitive" href="https://doc.rust-lang.org/nightly/std/primitive.array.html">[T; 2073]</a>&gt;,
}</code></pre><h2 id="fields" class="fields section-header">Fields<a href="#fields" class="anchor">§</a></h2><span id="structfield.cols" class="structfield section-header"><a href="#structfield.cols" class="anchor field">§</a><code>cols: <a class="struct" href="https://doc.rust-lang.org/nightly/alloc/boxed/struct.Box.html" title="struct alloc::boxed::Box">Box</a>&lt;<a class="primitive" href="https://doc.rust-lang.org/nightly/std/primitive.array.html">[T; 2073]</a>&gt;</code></span><div class="docblock"><p>A witness row is represented by an array of N witness columns
When T is a vector, then the witness describes the rows of the circuit.</p>
</div><h2 id="trait-implementations" class="section-header">Trait Implementations<a href="#trait-implementations" class="anchor">§</a></h2><div id="trait-implementations-list"><details class="toggle implementors-toggle" open><summary><section id="impl-Index%3CColumnAlias%3E-for-Witness%3CN_ZKVM_KECCAK_REL_COLS,+T%3E" class="impl"><a class="src rightside" href="../../../../src/o1vm/interpreters/keccak/column.rs.html#361-371">Source</a><a href="#impl-Index%3CColumnAlias%3E-for-Witness%3CN_ZKVM_KECCAK_REL_COLS,+T%3E" class="anchor">§</a><h3 class="code-header">impl&lt;T: <a class="trait" href="https://doc.rust-lang.org/nightly/core/clone/trait.Clone.html" title="trait core::clone::Clone">Clone</a>&gt; <a class="trait" href="https://doc.rust-lang.org/nightly/core/ops/index/trait.Index.html" title="trait core::ops::index::Index">Index</a>&lt;<a class="enum" href="enum.ColumnAlias.html" title="enum o1vm::interpreters::keccak::column::ColumnAlias">ColumnAlias</a>&gt; for <a class="type" href="type.KeccakWitness.html" title="type o1vm::interpreters::keccak::column::KeccakWitness">KeccakWitness</a>&lt;T&gt;</h3><div class="docblock"><p>IMPLEMENTATIONS FOR COLUMN ALIAS</p>
</div></section></summary><div class="impl-items"><details class="toggle method-toggle" open><summary><section id="method.index" class="method trait-impl"><a class="src rightside" href="../../../../src/o1vm/interpreters/keccak/column.rs.html#368-370">Source</a><a href="#method.index" class="anchor">§</a><h4 class="code-header">fn <a href="https://doc.rust-lang.org/nightly/core/ops/index/trait.Index.html#tymethod.index" class="fn">index</a>(&amp;self, index: <a class="enum" href="enum.ColumnAlias.html" title="enum o1vm::interpreters::keccak::column::ColumnAlias">ColumnAlias</a>) -&gt; &amp;Self::<a class="associatedtype" href="https://doc.rust-lang.org/nightly/core/ops/index/trait.Index.html#associatedtype.Output" title="type core::ops::index::Index::Output">Output</a></h4></section></summary><div class="docblock"><p>Map the column alias to the actual column index.
Note that the column index depends on the step kind (Sponge or Round).
For instance, the column 800 represents PadLength in the Sponge step, while it
is used by intermediary values when executing the Round step.</p>
</div></details><details class="toggle" open><summary><section id="associatedtype.Output" class="associatedtype trait-impl"><a class="src rightside" href="../../../../src/o1vm/interpreters/keccak/column.rs.html#362">Source</a><a href="#associatedtype.Output" class="anchor">§</a><h4 class="code-header">type <a href="https://doc.rust-lang.org/nightly/core/ops/index/trait.Index.html#associatedtype.Output" class="associatedtype">Output</a> = T</h4></section></summary><div class='docblock'>The returned type after indexing.</div></details></div></details><details class="toggle implementors-toggle" open><summary><section id="impl-Index%3CSteps%3E-for-Witness%3CN_ZKVM_KECCAK_REL_COLS,+T%3E" class="impl"><a class="src rightside" href="../../../../src/o1vm/interpreters/keccak/column.rs.html#388-399">Source</a><a href="#impl-Index%3CSteps%3E-for-Witness%3CN_ZKVM_KECCAK_REL_COLS,+T%3E" class="anchor">§</a><h3 class="code-header">impl&lt;T: <a class="trait" href="https://doc.rust-lang.org/nightly/core/clone/trait.Clone.html" title="trait core::clone::Clone">Clone</a>&gt; <a class="trait" href="https://doc.rust-lang.org/nightly/core/ops/index/trait.Index.html" title="trait core::ops::index::Index">Index</a>&lt;<a class="enum" href="enum.Steps.html" title="enum o1vm::interpreters::keccak::column::Steps">Steps</a>&gt; for <a class="type" href="type.KeccakWitness.html" title="type o1vm::interpreters::keccak::column::KeccakWitness">KeccakWitness</a>&lt;T&gt;</h3></section></summary><div class="impl-items"><details class="toggle method-toggle" open><summary><section id="method.index-1" class="method trait-impl"><a class="src rightside" href="../../../../src/o1vm/interpreters/keccak/column.rs.html#396-398">Source</a><a href="#method.index-1" class="anchor">§</a><h4 class="code-header">fn <a href="https://doc.rust-lang.org/nightly/core/ops/index/trait.Index.html#tymethod.index" class="fn">index</a>(&amp;self, index: <a class="enum" href="enum.Steps.html" title="enum o1vm::interpreters::keccak::column::Steps">Steps</a>) -&gt; &amp;Self::<a class="associatedtype" href="https://doc.rust-lang.org/nightly/core/ops/index/trait.Index.html#associatedtype.Output" title="type core::ops::index::Index::Output">Output</a></h4></section></summary><div class="docblock"><p>Map the column alias to the actual column index.
Note that the column index depends on the step kind (Sponge or Round).
For instance, the column 800 represents PadLength in the Sponge step, while it
is used by intermediary values when executing the Round step.
The selector columns are located at the end of the witness relation columns.</p>
</div></details><details class="toggle" open><summary><section id="associatedtype.Output-1" class="associatedtype trait-impl"><a class="src rightside" href="../../../../src/o1vm/interpreters/keccak/column.rs.html#389">Source</a><a href="#associatedtype.Output-1" class="anchor">§</a><h4 class="code-header">type <a href="https://doc.rust-lang.org/nightly/core/ops/index/trait.Index.html#associatedtype.Output" class="associatedtype">Output</a> = T</h4></section></summary><div class='docblock'>The returned type after indexing.</div></details></div></details><details class="toggle implementors-toggle" open><summary><section id="impl-IndexMut%3CColumnAlias%3E-for-Witness%3CN_ZKVM_KECCAK_REL_COLS,+T%3E" class="impl"><a class="src rightside" href="../../../../src/o1vm/interpreters/keccak/column.rs.html#373-377">Source</a><a href="#impl-IndexMut%3CColumnAlias%3E-for-Witness%3CN_ZKVM_KECCAK_REL_COLS,+T%3E" class="anchor">§</a><h3 class="code-header">impl&lt;T: <a class="trait" href="https://doc.rust-lang.org/nightly/core/clone/trait.Clone.html" title="trait core::clone::Clone">Clone</a>&gt; <a class="trait" href="https://doc.rust-lang.org/nightly/core/ops/index/trait.IndexMut.html" title="trait core::ops::index::IndexMut">IndexMut</a>&lt;<a class="enum" href="enum.ColumnAlias.html" title="enum o1vm::interpreters::keccak::column::ColumnAlias">ColumnAlias</a>&gt; for <a class="type" href="type.KeccakWitness.html" title="type o1vm::interpreters::keccak::column::KeccakWitness">KeccakWitness</a>&lt;T&gt;</h3></section></summary><div class="impl-items"><details class="toggle method-toggle" open><summary><section id="method.index_mut" class="method trait-impl"><a class="src rightside" href="../../../../src/o1vm/interpreters/keccak/column.rs.html#374-376">Source</a><a href="#method.index_mut" class="anchor">§</a><h4 class="code-header">fn <a href="https://doc.rust-lang.org/nightly/core/ops/index/trait.IndexMut.html#tymethod.index_mut" class="fn">index_mut</a>(&amp;mut self, index: <a class="enum" href="enum.ColumnAlias.html" title="enum o1vm::interpreters::keccak::column::ColumnAlias">ColumnAlias</a>) -&gt; &amp;mut Self::<a class="associatedtype" href="https://doc.rust-lang.org/nightly/core/ops/index/trait.Index.html#associatedtype.Output" title="type core::ops::index::Index::Output">Output</a></h4></section></summary><div class='docblock'>Performs the mutable indexing (<code>container[index]</code>) operation. <a href="https://doc.rust-lang.org/nightly/core/ops/index/trait.IndexMut.html#tymethod.index_mut">Read more</a></div></details></div></details><details class="toggle implementors-toggle" open><summary><section id="impl-IndexMut%3CSteps%3E-for-Witness%3CN_ZKVM_KECCAK_REL_COLS,+T%3E" class="impl"><a class="src rightside" href="../../../../src/o1vm/interpreters/keccak/column.rs.html#401-405">Source</a><a href="#impl-IndexMut%3CSteps%3E-for-Witness%3CN_ZKVM_KECCAK_REL_COLS,+T%3E" class="anchor">§</a><h3 class="code-header">impl&lt;T: <a class="trait" href="https://doc.rust-lang.org/nightly/core/clone/trait.Clone.html" title="trait core::clone::Clone">Clone</a>&gt; <a class="trait" href="https://doc.rust-lang.org/nightly/core/ops/index/trait.IndexMut.html" title="trait core::ops::index::IndexMut">IndexMut</a>&lt;<a class="enum" href="enum.Steps.html" title="enum o1vm::interpreters::keccak::column::Steps">Steps</a>&gt; for <a class="type" href="type.KeccakWitness.html" title="type o1vm::interpreters::keccak::column::KeccakWitness">KeccakWitness</a>&lt;T&gt;</h3></section></summary><div class="impl-items"><details class="toggle method-toggle" open><summary><section id="method.index_mut-1" class="method trait-impl"><a class="src rightside" href="../../../../src/o1vm/interpreters/keccak/column.rs.html#402-404">Source</a><a href="#method.index_mut-1" class="anchor">§</a><h4 class="code-header">fn <a href="https://doc.rust-lang.org/nightly/core/ops/index/trait.IndexMut.html#tymethod.index_mut" class="fn">index_mut</a>(&amp;mut self, index: <a class="enum" href="enum.Steps.html" title="enum o1vm::interpreters::keccak::column::Steps">Steps</a>) -&gt; &amp;mut Self::<a class="associatedtype" href="https://doc.rust-lang.org/nightly/core/ops/index/trait.Index.html#associatedtype.Output" title="type core::ops::index::Index::Output">Output</a></h4></section></summary><div class='docblock'>Performs the mutable indexing (<code>container[index]</code>) operation. <a href="https://doc.rust-lang.org/nightly/core/ops/index/trait.IndexMut.html#tymethod.index_mut">Read more</a></div></details></div></details></div><script src="../../../../type.impl/kimchi_msm/witness/struct.Witness.js" data-self-path="o1vm::interpreters::keccak::column::KeccakWitness" async></script></section></div></main></body></html>