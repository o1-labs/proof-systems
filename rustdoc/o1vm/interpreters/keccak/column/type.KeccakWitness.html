<!DOCTYPE html><html lang="en"><head><meta charset="utf-8"><meta name="viewport" content="width=device-width, initial-scale=1.0"><meta name="generator" content="rustdoc"><meta name="description" content="The witness columns used by the Keccak circuit. The Keccak circuit is split into two main modes: Sponge and Round. The columns are shared between the Sponge and Round steps. The hash and step indices are shared between both modes. The row is split into the following entries:"><title>KeccakWitness in o1vm::interpreters::keccak::column - Rust</title><link rel="preload" as="font" type="font/woff2" crossorigin href="../../../../static.files/SourceSerif4-Regular-46f98efaafac5295.ttf.woff2"><link rel="preload" as="font" type="font/woff2" crossorigin href="../../../../static.files/FiraSans-Regular-018c141bf0843ffd.woff2"><link rel="preload" as="font" type="font/woff2" crossorigin href="../../../../static.files/FiraSans-Medium-8f9a781e4970d388.woff2"><link rel="preload" as="font" type="font/woff2" crossorigin href="../../../../static.files/SourceCodePro-Regular-562dcc5011b6de7d.ttf.woff2"><link rel="preload" as="font" type="font/woff2" crossorigin href="../../../../static.files/SourceSerif4-Bold-a2c9cd1067f8b328.ttf.woff2"><link rel="preload" as="font" type="font/woff2" crossorigin href="../../../../static.files/SourceCodePro-Semibold-d899c5a5c4aeb14a.ttf.woff2"><link rel="stylesheet" href="../../../../static.files/normalize-76eba96aa4d2e634.css"><link rel="stylesheet" href="../../../../static.files/rustdoc-9bb858ba049f1f21.css" id="mainThemeStyle"><meta name="rustdoc-vars" data-root-path="../../../../" data-static-root-path="../../../../static.files/" data-current-crate="o1vm" data-themes="" data-resource-suffix="" data-rustdoc-version="1.72.1 (d5c2e9c34 2023-09-13)" data-channel="1.72.1" data-search-js="search-f6292fe389d70017.js" data-settings-js="settings-de11bff964e9d4e5.js" data-settings-css="settings-8c76f75bfb6bd192.css" data-theme-light-css="light-0f8c037637f9eb3e.css" data-theme-dark-css="dark-1097f8e92a01e3cf.css" data-theme-ayu-css="ayu-614652228113ac93.css" ><script src="../../../../static.files/storage-59fd9b8ccb335783.js"></script><script defer src="sidebar-items.js"></script><script defer src="../../../../static.files/main-0795b7d26be81095.js"></script><noscript><link rel="stylesheet" media="(prefers-color-scheme:light)" href="../../../../static.files/light-0f8c037637f9eb3e.css"><link rel="stylesheet" media="(prefers-color-scheme:dark)" href="../../../../static.files/dark-1097f8e92a01e3cf.css"><link rel="stylesheet" href="../../../../static.files/noscript-13285aec31fa243e.css"></noscript><link rel="alternate icon" type="image/png" href="../../../../static.files/favicon-16x16-8b506e7a72182f1c.png"><link rel="alternate icon" type="image/png" href="../../../../static.files/favicon-32x32-422f7d1d52889060.png"><link rel="icon" type="image/svg+xml" href="../../../../static.files/favicon-2c020d218678b618.svg"></head><body class="rustdoc type"><!--[if lte IE 11]><div class="warning">This old browser is unsupported and will most likely display funky things.</div><![endif]--><nav class="mobile-topbar"><button class="sidebar-menu-toggle">&#9776;</button><a class="logo-container" href="../../../../o1vm/index.html"><img class="rust-logo" src="../../../../static.files/rust-logo-151179464ae7ed46.svg" alt="logo"></a><h2></h2></nav><nav class="sidebar"><a class="logo-container" href="../../../../o1vm/index.html"><img class="rust-logo" src="../../../../static.files/rust-logo-151179464ae7ed46.svg" alt="logo"></a><h2 class="location"><a href="#">KeccakWitness</a></h2><div class="sidebar-elems"><section><h3><a href="#trait-implementations">Trait Implementations</a></h3><ul class="block"><li><a href="#impl-Index%3CColumnAlias%3E-for-KeccakWitness%3CT%3E">Index&lt;ColumnAlias&gt;</a></li><li><a href="#impl-Index%3CSteps%3E-for-KeccakWitness%3CT%3E">Index&lt;Steps&gt;</a></li><li><a href="#impl-IndexMut%3CColumnAlias%3E-for-KeccakWitness%3CT%3E">IndexMut&lt;ColumnAlias&gt;</a></li><li><a href="#impl-IndexMut%3CSteps%3E-for-KeccakWitness%3CT%3E">IndexMut&lt;Steps&gt;</a></li></ul></section><h2><a href="index.html">In o1vm::interpreters::keccak::column</a></h2></div></nav><main><div class="width-limiter"><nav class="sub"><form class="search-form"><span></span><input class="search-input" name="search" aria-label="Run search in the documentation" autocomplete="off" spellcheck="false" placeholder="Click or press ‘S’ to search, ‘?’ for more options…" type="search"><div id="help-button" title="help" tabindex="-1"><a href="../../../../help.html">?</a></div><div id="settings-menu" tabindex="-1"><a href="../../../../settings.html" title="settings"><img width="22" height="22" alt="Change settings" src="../../../../static.files/wheel-7b819b6101059cd0.svg"></a></div></form></nav><section id="main-content" class="content"><div class="main-heading"><h1>Type Definition <a href="../../../index.html">o1vm</a>::<wbr><a href="../../index.html">interpreters</a>::<wbr><a href="../index.html">keccak</a>::<wbr><a href="index.html">column</a>::<wbr><a class="type" href="#">KeccakWitness</a><button id="copy-path" title="Copy item path to clipboard"><img src="../../../../static.files/clipboard-7571035ce49a181d.svg" width="19" height="18" alt="Copy item path"></button></h1><span class="out-of-band"><a class="srclink" href="../../../../src/o1vm/interpreters/keccak/column.rs.html#354">source</a> · <button id="toggle-all-docs" title="collapse all docs">[<span>&#x2212;</span>]</button></span></div><pre class="rust item-decl"><code>pub type KeccakWitness&lt;T&gt; = Witness&lt;N_ZKVM_KECCAK_REL_COLS, T&gt;;</code></pre><details class="toggle top-doc" open><summary class="hideme"><span>Expand description</span></summary><div class="docblock"><p>The witness columns used by the Keccak circuit.
The Keccak circuit is split into two main modes: Sponge and Round.
The columns are shared between the Sponge and Round steps.
The hash and step indices are shared between both modes.
The row is split into the following entries:</p>
<ul>
<li>
<p>hash_index: Which hash this is inside the circuit</p>
</li>
<li>
<p>block_index: Which block this is inside the hash</p>
</li>
<li>
<p>step_index: Which step this is inside the hash</p>
</li>
<li>
<p>curr: Contains 1965 witnesses used in the current step including Input</p>
</li>
<li>
<p>next: Contains the 100 Output witnesses</p>
</li>
<li>
<p>round_flags: contain 5 elements with information about the current round step</p>
</li>
<li>
<p>pad_flags: PadLength, TwoToPad, PadBytesFlags, PadSuffix</p>
</li>
<li>
<p>mode_flags: what kind of mode is running: round, root, absorb, pad, rootpad, squeeze. Only 1 of them can be active.</p>
<p>Keccak Witness Columns: KeccakWitness.cols</p>
</li>
</ul>
<hr />
<h3 id="-0--1--2--31967--19682067--20682071-"><a href="#-0--1--2--31967--19682067--20682071-">| 0 | 1 | 2 | 3..=1967 | 1968..=2067 | 2068..=2071 |</a></h3>
<p>0     -&gt; hash_index
1     -&gt; block_index
2     -&gt; step_index
3..=1967 -&gt; curr
3                                                                        1967
&lt;––––––––––––––––if_round&lt;–––––––––––––––––&gt;
&lt;———––if_sponge–––––––&gt;
3                                   802
-&gt; SPONGE:                             | -&gt; ROUND:
-&gt; 3..=102: Input == SpongeOldState    | -&gt; 3..=102: Input == ThetaStateA
-&gt; 103..=202: SpongeNewState           | -&gt; 103..=182: ThetaShiftsC
: 170..=202 -&gt; SpongeZeros | -&gt; 183..=202: ThetaDenseC
-&gt; 203..=402: SpongeBytes              | -&gt; 203..=207: ThetaQuotientC
-&gt; 403..=802: SpongeShifts             | -&gt; 208..=227: ThetaRemainderC
| -&gt; 228..=247: ThetaDenseRotC
| -&gt; 248..=267: ThetaExpandRotC
| -&gt; 268..=667: PiRhoShiftsE
| -&gt; 668..=767: PiRhoDenseE
| -&gt; 768..=867: PiRhoQuotientE
| -&gt; 868..=967: PiRhoRemainderE
| -&gt; 968..=1067: PiRhoDenseRotE
| -&gt; 1068..=1167: PiRhoExpandRotE
| -&gt; 1168..=1567: ChiShiftsB
| -&gt; 1568..=1967: ChiShiftsSum
1968..=2067 -&gt; next
-&gt; 1968..=2067: Output (if Round, then IotaStateG, if Sponge then SpongeXorState)</p>
<p>2068..=2072 -&gt; round_flags
-&gt; 2068: RoundNumber
-&gt; 2069..=2072: RoundConstants</p>
<p>2073..=2078 -&gt; selectors</p>
<p>803..=945 -&gt; pad_flags
-&gt; 803: PadLength
-&gt; 804: TwoToPad
-&gt; 805..=809: PadSuffix
-&gt; 810..=945: PadBytesFlags</p>
</div></details><h2 id="trait-implementations" class="small-section-header">Trait Implementations<a href="#trait-implementations" class="anchor">§</a></h2><div id="trait-implementations-list"><details class="toggle implementors-toggle" open><summary><section id="impl-Index%3CColumnAlias%3E-for-KeccakWitness%3CT%3E" class="impl"><a class="srclink rightside" href="../../../../src/o1vm/interpreters/keccak/column.rs.html#358-368">source</a><a href="#impl-Index%3CColumnAlias%3E-for-KeccakWitness%3CT%3E" class="anchor">§</a><h3 class="code-header">impl&lt;T: <a class="trait" href="https://doc.rust-lang.org/1.72.1/core/clone/trait.Clone.html" title="trait core::clone::Clone">Clone</a>&gt; <a class="trait" href="https://doc.rust-lang.org/1.72.1/core/ops/index/trait.Index.html" title="trait core::ops::index::Index">Index</a>&lt;<a class="enum" href="enum.ColumnAlias.html" title="enum o1vm::interpreters::keccak::column::ColumnAlias">ColumnAlias</a>&gt; for <a class="type" href="type.KeccakWitness.html" title="type o1vm::interpreters::keccak::column::KeccakWitness">KeccakWitness</a>&lt;T&gt;</h3></section></summary><div class="docblock"><p>IMPLEMENTATIONS FOR COLUMN ALIAS</p>
</div><div class="impl-items"><details class="toggle method-toggle" open><summary><section id="method.index" class="method trait-impl"><a class="srclink rightside" href="../../../../src/o1vm/interpreters/keccak/column.rs.html#365-367">source</a><a href="#method.index" class="anchor">§</a><h4 class="code-header">fn <a href="https://doc.rust-lang.org/1.72.1/core/ops/index/trait.Index.html#tymethod.index" class="fn">index</a>(&amp;self, index: <a class="enum" href="enum.ColumnAlias.html" title="enum o1vm::interpreters::keccak::column::ColumnAlias">ColumnAlias</a>) -&gt; &amp;Self::<a class="associatedtype" href="https://doc.rust-lang.org/1.72.1/core/ops/index/trait.Index.html#associatedtype.Output" title="type core::ops::index::Index::Output">Output</a></h4></section></summary><div class="docblock"><p>Map the column alias to the actual column index.
Note that the column index depends on the step kind (Sponge or Round).
For instance, the column 800 represents PadLength in the Sponge step, while it
is used by intermediary values when executing the Round step.</p>
</div></details><details class="toggle" open><summary><section id="associatedtype.Output" class="associatedtype trait-impl"><a href="#associatedtype.Output" class="anchor">§</a><h4 class="code-header">type <a href="https://doc.rust-lang.org/1.72.1/core/ops/index/trait.Index.html#associatedtype.Output" class="associatedtype">Output</a> = T</h4></section></summary><div class='docblock'>The returned type after indexing.</div></details></div></details><details class="toggle implementors-toggle" open><summary><section id="impl-Index%3CSteps%3E-for-KeccakWitness%3CT%3E" class="impl"><a class="srclink rightside" href="../../../../src/o1vm/interpreters/keccak/column.rs.html#385-396">source</a><a href="#impl-Index%3CSteps%3E-for-KeccakWitness%3CT%3E" class="anchor">§</a><h3 class="code-header">impl&lt;T: <a class="trait" href="https://doc.rust-lang.org/1.72.1/core/clone/trait.Clone.html" title="trait core::clone::Clone">Clone</a>&gt; <a class="trait" href="https://doc.rust-lang.org/1.72.1/core/ops/index/trait.Index.html" title="trait core::ops::index::Index">Index</a>&lt;<a class="enum" href="enum.Steps.html" title="enum o1vm::interpreters::keccak::column::Steps">Steps</a>&gt; for <a class="type" href="type.KeccakWitness.html" title="type o1vm::interpreters::keccak::column::KeccakWitness">KeccakWitness</a>&lt;T&gt;</h3></section></summary><div class="impl-items"><details class="toggle method-toggle" open><summary><section id="method.index-1" class="method trait-impl"><a class="srclink rightside" href="../../../../src/o1vm/interpreters/keccak/column.rs.html#393-395">source</a><a href="#method.index-1" class="anchor">§</a><h4 class="code-header">fn <a href="https://doc.rust-lang.org/1.72.1/core/ops/index/trait.Index.html#tymethod.index" class="fn">index</a>(&amp;self, index: <a class="enum" href="enum.Steps.html" title="enum o1vm::interpreters::keccak::column::Steps">Steps</a>) -&gt; &amp;Self::<a class="associatedtype" href="https://doc.rust-lang.org/1.72.1/core/ops/index/trait.Index.html#associatedtype.Output" title="type core::ops::index::Index::Output">Output</a></h4></section></summary><div class="docblock"><p>Map the column alias to the actual column index.
Note that the column index depends on the step kind (Sponge or Round).
For instance, the column 800 represents PadLength in the Sponge step, while it
is used by intermediary values when executing the Round step.
The selector columns are located at the end of the witness relation columns.</p>
</div></details><details class="toggle" open><summary><section id="associatedtype.Output-1" class="associatedtype trait-impl"><a href="#associatedtype.Output-1" class="anchor">§</a><h4 class="code-header">type <a href="https://doc.rust-lang.org/1.72.1/core/ops/index/trait.Index.html#associatedtype.Output" class="associatedtype">Output</a> = T</h4></section></summary><div class='docblock'>The returned type after indexing.</div></details></div></details><details class="toggle implementors-toggle" open><summary><section id="impl-IndexMut%3CColumnAlias%3E-for-KeccakWitness%3CT%3E" class="impl"><a class="srclink rightside" href="../../../../src/o1vm/interpreters/keccak/column.rs.html#370-374">source</a><a href="#impl-IndexMut%3CColumnAlias%3E-for-KeccakWitness%3CT%3E" class="anchor">§</a><h3 class="code-header">impl&lt;T: <a class="trait" href="https://doc.rust-lang.org/1.72.1/core/clone/trait.Clone.html" title="trait core::clone::Clone">Clone</a>&gt; <a class="trait" href="https://doc.rust-lang.org/1.72.1/core/ops/index/trait.IndexMut.html" title="trait core::ops::index::IndexMut">IndexMut</a>&lt;<a class="enum" href="enum.ColumnAlias.html" title="enum o1vm::interpreters::keccak::column::ColumnAlias">ColumnAlias</a>&gt; for <a class="type" href="type.KeccakWitness.html" title="type o1vm::interpreters::keccak::column::KeccakWitness">KeccakWitness</a>&lt;T&gt;</h3></section></summary><div class="impl-items"><details class="toggle method-toggle" open><summary><section id="method.index_mut" class="method trait-impl"><a class="srclink rightside" href="../../../../src/o1vm/interpreters/keccak/column.rs.html#371-373">source</a><a href="#method.index_mut" class="anchor">§</a><h4 class="code-header">fn <a href="https://doc.rust-lang.org/1.72.1/core/ops/index/trait.IndexMut.html#tymethod.index_mut" class="fn">index_mut</a>(&amp;mut self, index: <a class="enum" href="enum.ColumnAlias.html" title="enum o1vm::interpreters::keccak::column::ColumnAlias">ColumnAlias</a>) -&gt; &amp;mut Self::<a class="associatedtype" href="https://doc.rust-lang.org/1.72.1/core/ops/index/trait.Index.html#associatedtype.Output" title="type core::ops::index::Index::Output">Output</a></h4></section></summary><div class='docblock'>Performs the mutable indexing (<code>container[index]</code>) operation. <a href="https://doc.rust-lang.org/1.72.1/core/ops/index/trait.IndexMut.html#tymethod.index_mut">Read more</a></div></details></div></details><details class="toggle implementors-toggle" open><summary><section id="impl-IndexMut%3CSteps%3E-for-KeccakWitness%3CT%3E" class="impl"><a class="srclink rightside" href="../../../../src/o1vm/interpreters/keccak/column.rs.html#398-402">source</a><a href="#impl-IndexMut%3CSteps%3E-for-KeccakWitness%3CT%3E" class="anchor">§</a><h3 class="code-header">impl&lt;T: <a class="trait" href="https://doc.rust-lang.org/1.72.1/core/clone/trait.Clone.html" title="trait core::clone::Clone">Clone</a>&gt; <a class="trait" href="https://doc.rust-lang.org/1.72.1/core/ops/index/trait.IndexMut.html" title="trait core::ops::index::IndexMut">IndexMut</a>&lt;<a class="enum" href="enum.Steps.html" title="enum o1vm::interpreters::keccak::column::Steps">Steps</a>&gt; for <a class="type" href="type.KeccakWitness.html" title="type o1vm::interpreters::keccak::column::KeccakWitness">KeccakWitness</a>&lt;T&gt;</h3></section></summary><div class="impl-items"><details class="toggle method-toggle" open><summary><section id="method.index_mut-1" class="method trait-impl"><a class="srclink rightside" href="../../../../src/o1vm/interpreters/keccak/column.rs.html#399-401">source</a><a href="#method.index_mut-1" class="anchor">§</a><h4 class="code-header">fn <a href="https://doc.rust-lang.org/1.72.1/core/ops/index/trait.IndexMut.html#tymethod.index_mut" class="fn">index_mut</a>(&amp;mut self, index: <a class="enum" href="enum.Steps.html" title="enum o1vm::interpreters::keccak::column::Steps">Steps</a>) -&gt; &amp;mut Self::<a class="associatedtype" href="https://doc.rust-lang.org/1.72.1/core/ops/index/trait.Index.html#associatedtype.Output" title="type core::ops::index::Index::Output">Output</a></h4></section></summary><div class='docblock'>Performs the mutable indexing (<code>container[index]</code>) operation. <a href="https://doc.rust-lang.org/1.72.1/core/ops/index/trait.IndexMut.html#tymethod.index_mut">Read more</a></div></details></div></details></div></section></div></main></body></html>