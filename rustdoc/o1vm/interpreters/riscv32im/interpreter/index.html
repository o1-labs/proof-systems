<!DOCTYPE html><html lang="en"><head><meta charset="utf-8"><meta name="viewport" content="width=device-width, initial-scale=1.0"><meta name="generator" content="rustdoc"><meta name="description" content="This module implement an interpreter for the RISCV32 IM instruction set architecture."><title>o1vm::interpreters::riscv32im::interpreter - Rust</title><link rel="preload" as="font" type="font/woff2" crossorigin href="../../../../static.files/SourceSerif4-Regular-46f98efaafac5295.ttf.woff2"><link rel="preload" as="font" type="font/woff2" crossorigin href="../../../../static.files/FiraSans-Regular-018c141bf0843ffd.woff2"><link rel="preload" as="font" type="font/woff2" crossorigin href="../../../../static.files/FiraSans-Medium-8f9a781e4970d388.woff2"><link rel="preload" as="font" type="font/woff2" crossorigin href="../../../../static.files/SourceCodePro-Regular-562dcc5011b6de7d.ttf.woff2"><link rel="preload" as="font" type="font/woff2" crossorigin href="../../../../static.files/SourceSerif4-Bold-a2c9cd1067f8b328.ttf.woff2"><link rel="preload" as="font" type="font/woff2" crossorigin href="../../../../static.files/SourceCodePro-Semibold-d899c5a5c4aeb14a.ttf.woff2"><link rel="stylesheet" href="../../../../static.files/normalize-76eba96aa4d2e634.css"><link rel="stylesheet" href="../../../../static.files/rustdoc-9bb858ba049f1f21.css" id="mainThemeStyle"><meta name="rustdoc-vars" data-root-path="../../../../" data-static-root-path="../../../../static.files/" data-current-crate="o1vm" data-themes="" data-resource-suffix="" data-rustdoc-version="1.72.1 (d5c2e9c34 2023-09-13)" data-channel="1.72.1" data-search-js="search-f6292fe389d70017.js" data-settings-js="settings-de11bff964e9d4e5.js" data-settings-css="settings-8c76f75bfb6bd192.css" data-theme-light-css="light-0f8c037637f9eb3e.css" data-theme-dark-css="dark-1097f8e92a01e3cf.css" data-theme-ayu-css="ayu-614652228113ac93.css" ><script src="../../../../static.files/storage-59fd9b8ccb335783.js"></script><script defer src="../../../../static.files/main-0795b7d26be81095.js"></script><noscript><link rel="stylesheet" media="(prefers-color-scheme:light)" href="../../../../static.files/light-0f8c037637f9eb3e.css"><link rel="stylesheet" media="(prefers-color-scheme:dark)" href="../../../../static.files/dark-1097f8e92a01e3cf.css"><link rel="stylesheet" href="../../../../static.files/noscript-13285aec31fa243e.css"></noscript><link rel="alternate icon" type="image/png" href="../../../../static.files/favicon-16x16-8b506e7a72182f1c.png"><link rel="alternate icon" type="image/png" href="../../../../static.files/favicon-32x32-422f7d1d52889060.png"><link rel="icon" type="image/svg+xml" href="../../../../static.files/favicon-2c020d218678b618.svg"></head><body class="rustdoc mod"><!--[if lte IE 11]><div class="warning">This old browser is unsupported and will most likely display funky things.</div><![endif]--><nav class="mobile-topbar"><button class="sidebar-menu-toggle">&#9776;</button><a class="logo-container" href="../../../../o1vm/index.html"><img class="rust-logo" src="../../../../static.files/rust-logo-151179464ae7ed46.svg" alt="logo"></a><h2></h2></nav><nav class="sidebar"><a class="logo-container" href="../../../../o1vm/index.html"><img class="rust-logo" src="../../../../static.files/rust-logo-151179464ae7ed46.svg" alt="logo"></a><h2 class="location"><a href="#">Module interpreter</a></h2><div class="sidebar-elems"><section><ul class="block"><li><a href="#structs">Structs</a></li><li><a href="#enums">Enums</a></li><li><a href="#traits">Traits</a></li><li><a href="#functions">Functions</a></li></ul></section></div></nav><main><div class="width-limiter"><nav class="sub"><form class="search-form"><span></span><input class="search-input" name="search" aria-label="Run search in the documentation" autocomplete="off" spellcheck="false" placeholder="Click or press ‘S’ to search, ‘?’ for more options…" type="search"><div id="help-button" title="help" tabindex="-1"><a href="../../../../help.html">?</a></div><div id="settings-menu" tabindex="-1"><a href="../../../../settings.html" title="settings"><img width="22" height="22" alt="Change settings" src="../../../../static.files/wheel-7b819b6101059cd0.svg"></a></div></form></nav><section id="main-content" class="content"><div class="main-heading"><h1>Module <a href="../../../index.html">o1vm</a>::<wbr><a href="../../index.html">interpreters</a>::<wbr><a href="../index.html">riscv32im</a>::<wbr><a class="mod" href="#">interpreter</a><button id="copy-path" title="Copy item path to clipboard"><img src="../../../../static.files/clipboard-7571035ce49a181d.svg" width="19" height="18" alt="Copy item path"></button></h1><span class="out-of-band"><a class="srclink" href="../../../../src/o1vm/interpreters/riscv32im/interpreter.rs.html#1-2769">source</a> · <button id="toggle-all-docs" title="collapse all docs">[<span>&#x2212;</span>]</button></span></div><details class="toggle top-doc" open><summary class="hideme"><span>Expand description</span></summary><div class="docblock"><p>This module implement an interpreter for the RISCV32 IM instruction set
architecture.</p>
<p>The implementation mostly follows (and copy) code from the MIPS interpreter
available <a href="../mips/interpreter.rs">here</a>.</p>
<h3 id="credits"><a href="#credits">Credits</a></h3>
<p>We would like to thank the authors of the following documentations:</p>
<ul>
<li><a href="https://msyksphinz-self.github.io/riscv-isadoc/html/rvm.html">https://msyksphinz-self.github.io/riscv-isadoc/html/rvm.html</a> (<a href="https://creativecommons.org/licenses/by/4.0/">CC BY
4.0</a>) from
<a href="https://github.com/msyksphinz-self/riscv-isadoc">msyksphinz-self</a></li>
<li></li>
</ul>
<p><a href="https://www.cs.cornell.edu/courses/cs3410/2024fa/assignments/cpusim/riscv-instructions.pdf">https://www.cs.cornell.edu/courses/cs3410/2024fa/assignments/cpusim/riscv-instructions.pdf</a>
from the course <a href="https://www.cs.cornell.edu/courses/cs3410/2024fa/home.html">CS 3410: Computer System Organization and
Programming</a> at
Cornell University.</p>
<p>The format and description of each instruction is taken from these sources,
and copied in this file for offline reference.
If you are the author of the above documentations and would like to add or
modify the credits, please open a pull request.</p>
<p>For each instruction, we provide the format, description, and the
semantic in pseudo-code of the instruction.
When <code>signed</code> is mentioned in the pseudo-code, it means that the
operation is performed as a signed operation (i.e. signed(v) where <code>v</code> is a
32 bits value means that <code>v</code> must be interpreted as a i32 value in Rust, the
most significant bit being the sign - 1 for negative, 0 for positive).
By default, unsigned operations are performed.</p>
</div></details><h2 id="structs" class="small-section-header"><a href="#structs">Structs</a></h2><ul class="item-table"><li><div class="item-name"><a class="struct" href="struct.IInstructionIter.html" title="struct o1vm::interpreters::riscv32im::interpreter::IInstructionIter">IInstructionIter</a></div><div class="desc docblock-short">An iterator over the variants of <a href="enum.IInstruction.html" title="enum o1vm::interpreters::riscv32im::interpreter::IInstruction">IInstruction</a></div></li><li><div class="item-name"><a class="struct" href="struct.InstructionIter.html" title="struct o1vm::interpreters::riscv32im::interpreter::InstructionIter">InstructionIter</a></div><div class="desc docblock-short">An iterator over the variants of <a href="enum.Instruction.html" title="enum o1vm::interpreters::riscv32im::interpreter::Instruction">Instruction</a></div></li><li><div class="item-name"><a class="struct" href="struct.MInstructionIter.html" title="struct o1vm::interpreters::riscv32im::interpreter::MInstructionIter">MInstructionIter</a></div><div class="desc docblock-short">An iterator over the variants of <a href="enum.MInstruction.html" title="enum o1vm::interpreters::riscv32im::interpreter::MInstruction">MInstruction</a></div></li><li><div class="item-name"><a class="struct" href="struct.RInstructionIter.html" title="struct o1vm::interpreters::riscv32im::interpreter::RInstructionIter">RInstructionIter</a></div><div class="desc docblock-short">An iterator over the variants of <a href="enum.RInstruction.html" title="enum o1vm::interpreters::riscv32im::interpreter::RInstruction">RInstruction</a></div></li><li><div class="item-name"><a class="struct" href="struct.SBInstructionIter.html" title="struct o1vm::interpreters::riscv32im::interpreter::SBInstructionIter">SBInstructionIter</a></div><div class="desc docblock-short">An iterator over the variants of <a href="enum.SBInstruction.html" title="enum o1vm::interpreters::riscv32im::interpreter::SBInstruction">SBInstruction</a></div></li><li><div class="item-name"><a class="struct" href="struct.SInstructionIter.html" title="struct o1vm::interpreters::riscv32im::interpreter::SInstructionIter">SInstructionIter</a></div><div class="desc docblock-short">An iterator over the variants of <a href="enum.SInstruction.html" title="enum o1vm::interpreters::riscv32im::interpreter::SInstruction">SInstruction</a></div></li><li><div class="item-name"><a class="struct" href="struct.SyscallInstructionIter.html" title="struct o1vm::interpreters::riscv32im::interpreter::SyscallInstructionIter">SyscallInstructionIter</a></div><div class="desc docblock-short">An iterator over the variants of <a href="enum.SyscallInstruction.html" title="enum o1vm::interpreters::riscv32im::interpreter::SyscallInstruction">SyscallInstruction</a></div></li><li><div class="item-name"><a class="struct" href="struct.UInstructionIter.html" title="struct o1vm::interpreters::riscv32im::interpreter::UInstructionIter">UInstructionIter</a></div><div class="desc docblock-short">An iterator over the variants of <a href="enum.UInstruction.html" title="enum o1vm::interpreters::riscv32im::interpreter::UInstruction">UInstruction</a></div></li><li><div class="item-name"><a class="struct" href="struct.UJInstructionIter.html" title="struct o1vm::interpreters::riscv32im::interpreter::UJInstructionIter">UJInstructionIter</a></div><div class="desc docblock-short">An iterator over the variants of <a href="enum.UJInstruction.html" title="enum o1vm::interpreters::riscv32im::interpreter::UJInstruction">UJInstruction</a></div></li></ul><h2 id="enums" class="small-section-header"><a href="#enums">Enums</a></h2><ul class="item-table"><li><div class="item-name"><a class="enum" href="enum.IInstruction.html" title="enum o1vm::interpreters::riscv32im::interpreter::IInstruction">IInstruction</a></div></li><li><div class="item-name"><a class="enum" href="enum.Instruction.html" title="enum o1vm::interpreters::riscv32im::interpreter::Instruction">Instruction</a></div></li><li><div class="item-name"><a class="enum" href="enum.MInstruction.html" title="enum o1vm::interpreters::riscv32im::interpreter::MInstruction">MInstruction</a></div><div class="desc docblock-short">M extension instructions
Following <a href="https://msyksphinz-self.github.io/riscv-isadoc/html/rvm.html">https://msyksphinz-self.github.io/riscv-isadoc/html/rvm.html</a></div></li><li><div class="item-name"><a class="enum" href="enum.RInstruction.html" title="enum o1vm::interpreters::riscv32im::interpreter::RInstruction">RInstruction</a></div></li><li><div class="item-name"><a class="enum" href="enum.SBInstruction.html" title="enum o1vm::interpreters::riscv32im::interpreter::SBInstruction">SBInstruction</a></div></li><li><div class="item-name"><a class="enum" href="enum.SInstruction.html" title="enum o1vm::interpreters::riscv32im::interpreter::SInstruction">SInstruction</a></div></li><li><div class="item-name"><a class="enum" href="enum.SyscallInstruction.html" title="enum o1vm::interpreters::riscv32im::interpreter::SyscallInstruction">SyscallInstruction</a></div></li><li><div class="item-name"><a class="enum" href="enum.UInstruction.html" title="enum o1vm::interpreters::riscv32im::interpreter::UInstruction">UInstruction</a></div></li><li><div class="item-name"><a class="enum" href="enum.UJInstruction.html" title="enum o1vm::interpreters::riscv32im::interpreter::UJInstruction">UJInstruction</a></div></li></ul><h2 id="traits" class="small-section-header"><a href="#traits">Traits</a></h2><ul class="item-table"><li><div class="item-name"><a class="trait" href="trait.InterpreterEnv.html" title="trait o1vm::interpreters::riscv32im::interpreter::InterpreterEnv">InterpreterEnv</a></div></li></ul><h2 id="functions" class="small-section-header"><a href="#functions">Functions</a></h2><ul class="item-table"><li><div class="item-name"><a class="fn" href="fn.interpret_instruction.html" title="fn o1vm::interpreters::riscv32im::interpreter::interpret_instruction">interpret_instruction</a></div></li><li><div class="item-name"><a class="fn" href="fn.interpret_itype.html" title="fn o1vm::interpreters::riscv32im::interpreter::interpret_itype">interpret_itype</a></div><div class="desc docblock-short">Interpret an I-type instruction.
The encoding of an I-type instruction is as follows:</div></li><li><div class="item-name"><a class="fn" href="fn.interpret_mtype.html" title="fn o1vm::interpreters::riscv32im::interpreter::interpret_mtype">interpret_mtype</a></div><div class="desc docblock-short">Interpret an M-type instruction.
The encoding of an M-type instruction is as follows:</div></li><li><div class="item-name"><a class="fn" href="fn.interpret_rtype.html" title="fn o1vm::interpreters::riscv32im::interpreter::interpret_rtype">interpret_rtype</a></div><div class="desc docblock-short">Interpret an R-type instruction.
The encoding of an R-type instruction is as follows:</div></li><li><div class="item-name"><a class="fn" href="fn.interpret_sbtype.html" title="fn o1vm::interpreters::riscv32im::interpreter::interpret_sbtype">interpret_sbtype</a></div><div class="desc docblock-short">Interpret an SB-type instruction.
The encoding of an SB-type instruction is as follows:</div></li><li><div class="item-name"><a class="fn" href="fn.interpret_stype.html" title="fn o1vm::interpreters::riscv32im::interpreter::interpret_stype">interpret_stype</a></div><div class="desc docblock-short">Interpret an S-type instruction.
The encoding of an S-type instruction is as follows:</div></li><li><div class="item-name"><a class="fn" href="fn.interpret_syscall.html" title="fn o1vm::interpreters::riscv32im::interpreter::interpret_syscall">interpret_syscall</a></div></li><li><div class="item-name"><a class="fn" href="fn.interpret_ujtype.html" title="fn o1vm::interpreters::riscv32im::interpreter::interpret_ujtype">interpret_ujtype</a></div><div class="desc docblock-short">Interpret an UJ-type instruction.
The encoding of an UJ-type instruction is as follows:</div></li><li><div class="item-name"><a class="fn" href="fn.interpret_utype.html" title="fn o1vm::interpreters::riscv32im::interpreter::interpret_utype">interpret_utype</a></div><div class="desc docblock-short">Interpret an U-type instruction.
The encoding of an U-type instruction is as follows:</div></li></ul></section></div></main></body></html>