"use strict";(globalThis.webpackChunkmina_book=globalThis.webpackChunkmina_book||[]).push([[6963],{7574(e,n,s){s.r(n),s.d(n,{assets:()=>a,contentTitle:()=>c,default:()=>h,frontMatter:()=>o,metadata:()=>i,toc:()=>d});const i=JSON.parse('{"id":"specs/urs","title":"Universal Reference String (URS)","description":"Note that the URS is called SRS in our codebase at the moment. SRS is incorrect,","source":"@site/docs/specs/urs.md","sourceDirName":"specs","slug":"/specs/urs","permalink":"/proof-systems/specs/urs","draft":false,"unlisted":false,"editUrl":"https://github.com/o1-labs/proof-systems/tree/master/book/docs/specs/urs.md","tags":[],"version":"current","frontMatter":{},"sidebar":"docsSidebar","previous":{"title":"Kimchi","permalink":"/proof-systems/specs/kimchi"},"next":{"title":"Pickles","permalink":"/proof-systems/specs/pickles"}}');var t=s(4848),r=s(8453);const o={},c="Universal Reference String (URS)",a={},d=[{value:"Group map",id:"group-map",level:2},{value:"Curve points to commit to a polynomial",id:"curve-points-to-commit-to-a-polynomial",level:2},{value:"URS values in practice",id:"urs-values-in-practice",level:2},{value:"Vesta",id:"vesta",level:3},{value:"Pallas",id:"pallas",level:3}];function l(e){const n={admonition:"admonition",code:"code",h1:"h1",h2:"h2",h3:"h3",header:"header",li:"li",p:"p",pre:"pre",strong:"strong",ul:"ul",...(0,r.R)(),...e.components};return(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(n.header,{children:(0,t.jsx)(n.h1,{id:"universal-reference-string-urs",children:"Universal Reference String (URS)"})}),"\n",(0,t.jsx)(n.admonition,{type:"note",children:(0,t.jsx)(n.p,{children:"Note that the URS is called SRS in our codebase at the moment. SRS is incorrect,\nas it is used in the presence of a trusted setup (which kimchi does not have).\nThis needs to be fixed."})}),"\n",(0,t.jsx)(n.p,{children:"The URS comprises of:"}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.code,{children:"Gs"}),": an arbitrary ordered list of curve points that can be used to commit to\na polynomial in a non-hiding way."]}),"\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.code,{children:"H"}),": a blinding curve point that can be used to add hiding to a polynomial\ncommitment scheme."]}),"\n"]}),"\n",(0,t.jsx)(n.p,{children:"The URS is generated deterministically, and thus can be rederived if not stored."}),"\n",(0,t.jsxs)(n.p,{children:["As different circuits of different size do not share the same domain, and the\nsize of the domain is directly equal to the number of ",(0,t.jsx)(n.code,{children:"Gs"})," curve points we use\nto commit to polynomials, we often want to share the same URS of maximum size\nacross many circuits (constraint systems). Circuit associated with smaller\ndomains will simply use a truncation of the shared URS."]}),"\n",(0,t.jsx)(n.admonition,{type:"note",children:(0,t.jsx)(n.p,{children:"A circuit's domain is generated as the first power of 2 that is equal, or\nlarger, to the number of gates used in the circuit (including zero-knowledge\ngates)."})}),"\n",(0,t.jsx)(n.h2,{id:"group-map",children:"Group map"}),"\n",(0,t.jsx)(n.p,{children:"TODO: specify this part"}),"\n",(0,t.jsx)(n.h2,{id:"curve-points-to-commit-to-a-polynomial",children:"Curve points to commit to a polynomial"}),"\n",(0,t.jsxs)(n.p,{children:["The following pseudo-code specifies how the ",(0,t.jsx)(n.code,{children:"Gs"})," curve points, as well as the\n",(0,t.jsx)(n.code,{children:"H"})," curve point, are generated."]}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-python",children:'def create(depth):\n    # generators\n    Gs = []\n    for i in range(0, depth):\n        digest = Blake2b512.hash(be_encode(i))\n        Gs.push(point_of_random_bytes(digest))\n\n    # blinding point\n    digest = (b"srs_misc" || be_encode(0))\n    H = point_of_random_bytes(digest)\n\n    #\n    return (Gs, H)\n\ndef point_of_random_bytes(random_bytes):\n    # packing in bit-representation\n    const N: usize = 31\n    let mut bits = [false; 8 * N]\n    for i in range(0, N) {\n        for j in range(0, 8) {\n            bits[8 * i + j] = (random_bytes[i] >> j) & 1 == 1;\n        }\n    }\n\n    let n = BigInt::from_bits_be(&bits);\n    let t = G::BaseField::from_repr(n)\n    return map.to_group(t)\n'})}),"\n",(0,t.jsxs)(n.p,{children:["TODO: specify ",(0,t.jsx)(n.code,{children:"map.to_group"})," in the previous section."]}),"\n",(0,t.jsx)(n.h2,{id:"urs-values-in-practice",children:"URS values in practice"}),"\n",(0,t.jsx)(n.p,{children:"As there is no limit to the number of commitment curve points you can generate,\nwe only provide the first three ones to serve as test vectors."}),"\n",(0,t.jsx)(n.p,{children:"TODO: specify the encoding"}),"\n",(0,t.jsx)(n.h3,{id:"vesta",children:"Vesta"}),"\n",(0,t.jsxs)(n.p,{children:[(0,t.jsx)(n.strong,{children:(0,t.jsx)(n.code,{children:"Gs"})}),"."]}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{children:"G0 = (x=121C4426885FD5A9701385AAF8D43E52E7660F1FC5AFC5F6468CC55312FC60F8, y=21B439C01247EA3518C5DDEB324E4CB108AF617780DDF766D96D3FD8AB028B70)\nG1 = (x=26C9349FF7FB4AB230A6F6AEF045F451FBBE9B37C43C3274E2AA4B82D131FD26, y=1996274D67EC0464C51F79CCFA1F511C2AABB666ABE67733EE8185B71B27A504)\nG2 = (x=26985F27306586711466C5B2C28754AA62FE33516D75CEF1F7751F1A169713FD, y=2E8930092FE6A18B331CE0E6E27B413AA18E76394F18A2835DA9FAE10AA3229D)\n"})}),"\n",(0,t.jsxs)(n.p,{children:[(0,t.jsx)(n.strong,{children:(0,t.jsx)(n.code,{children:"H"})}),":"]}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{children:"H = (x=092060386301C999AAB4F263757836369CA27975E28BC7A8E5B2CE5B26262201, y=314FC4D83AE66A509F9D41BE6165F2606A209A9B5805EE85CE20249C5EBCBE26)\n"})}),"\n",(0,t.jsx)(n.h3,{id:"pallas",children:"Pallas"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{children:"G0 = (x363D83141FD1E0540718FADBA7278ABAEEDB46D7A3F050F2CFF1DF4F300C9C30, y=034C68F4079B4F338A19BE2D7BFA44B395C65B9790DD273F361327446C778764)\nG1 = (x2CC40B77D87665244AE5EB5304E8744004C80061AD08476A0F0656C13134EA45, y=28146EC860159DB55CB5EA5B14F0AA2F8751DEDFE0DDAFD1C313B15575C4B4AC)\nG2 = (x2808BC21BEB90314377BF6130285FABE6CE4B8A4457FB25BC95EBA0083DF27E3, y=1E04E53DD6395FAB8018D7FE98F9C7FAB39C40BFBE48589626A7B8532728B002)\n"})}),"\n",(0,t.jsxs)(n.p,{children:[(0,t.jsx)(n.strong,{children:(0,t.jsx)(n.code,{children:"H"})}),":"]}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{children:"H = (x221B959DACD2052AAE26193FCA36B53279866A4FBBAB0D5A2F828B5FD7778201, y=058C8F1105CAE57F4891EADC9B85C8954E5067190E155E61D66855ACE69C16C0)\n"})})]})}function h(e={}){const{wrapper:n}={...(0,r.R)(),...e.components};return n?(0,t.jsx)(n,{...e,children:(0,t.jsx)(l,{...e})}):l(e)}},8453(e,n,s){s.d(n,{R:()=>o,x:()=>c});var i=s(6540);const t={},r=i.createContext(t);function o(e){const n=i.useContext(r);return i.useMemo(function(){return"function"==typeof e?e(n):{...n,...e}},[n,e])}function c(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(t):e.components||t:o(e.components),i.createElement(r.Provider,{value:n},e.children)}}}]);